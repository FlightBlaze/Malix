language: cpp
dist: xenial

os:
  - linux
  - osx

addons:
  apt:
    packages:
      - cmake-data
      - cmake

before_install:
  - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
  - sudo apt-get update -qq

install:
  - sudo apt-get install -qq g++-8
  - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-8 90


script:
  - "cmake ."
  - "make"
  - "./malix ./tests/print.malix"
  - "./malix ./tests/variables.malix"
  - "./malix ./tests/arithmetic.malix"
  - "./malix ./tests/conditional.malix"
  - "./malix ./tests/loops.malix"
  - "./malix ./tests/functions.malix"
  - "./malix ./tests/math.malix"
  - "./malix ./tests/package.malix"
  - "./malix ./tests/fs.malix"